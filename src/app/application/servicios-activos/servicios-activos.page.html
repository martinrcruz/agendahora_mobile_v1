<ion-header class="text-center ion-no-border">
  <ion-toolbar class="background-color">
    <ion-title><i class="fa-solid fa-gears fa-xl text-center header-icon header-i"></i></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>



  <ion-grid>
    <ion-row style="justify-content:center;">

      <ion-col size="3" class="indicador">
        <h1 class="indicador-number">1</h1>
        <p class="indicador-text">Servicios Activos</p>
      </ion-col>
      <ion-col size="3" class="indicador">
        <h1 class="indicador-number">4</h1>
        <p class="indicador-text">Servicios Pendientes</p>
      </ion-col>
      <ion-col size="3" class="indicador">
        <h1 class="indicador-number">12</h1>
        <p class="indicador-text">Servicios Totales</p>
      </ion-col>
    </ion-row>



    <ion-row>

      <ion-col size="8">

      </ion-col>
      <ion-col size="2">
        <ion-button fill="clear" style="width: 60px; background-color: transparent;">
          <i class="fa-solid fa-circle-info fa-2xl" style="color:rgb(226, 226, 0);"></i>
        </ion-button>
      </ion-col>
      <!--[MODAL PARA HISTORIAL DE SERVICIOS] -->
      <ion-col size="2">
        <ion-button fill="clear" class="ion-button">
          <i class="fa-solid fa-clock-rotate-left fa-xl" id="trigger-historial-servicio"></i>
        </ion-button>

        <ion-modal trigger="trigger-historial-servicio">
          <ng-template>
            <ion-header>
              <ion-toolbar style="--background: transparent;--border-width: 0px !important">
                <ion-title>Historial de servicios</ion-title>
                <ion-buttons slot="end">
                  <ion-button (click)="dismiss()" class="dismiss-button">
                    <p class="close-modal">X</p>
                  </ion-button>
                </ion-buttons>
              </ion-toolbar>
            </ion-header>
            <ion-content>
              <ion-grid>
                <ion-row *ngFor="let itemHistorial of dataSourceHistorial">
                  <ion-col size="10" style="margin-bottom:2px;">
                    <ion-list>
                      <ion-item>
                        <ion-label>
                          Nombre Vehiculo {{itemHistorial.marca}} {{itemHistorial.modelo}}
                          <p>Fecha solicitud: </p>
                          <p>patente: </p>
                        </ion-label>
                      </ion-item>
                    </ion-list>
                  </ion-col>
                  <ion-col size="2">
                    <button class="btn btn-warning fa-solid fa-eye fa-xl mt-3"
                      style="color:white; height:65%; border-radius: 35px;" (click)="showDetalleServicio(itemHistorial.id_servicio)"></button>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-content>
          </ng-template>
        </ion-modal>




      </ion-col>
    </ion-row>


    <ion-row>
      <ion-col class="vehiculo-header">

        Servicios Activos
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-grid>
        <ion-row>
          <ion-col class="vehiculo-body">
            <ion-accordion-group>
              <ion-accordion *ngFor="let item of dataSource">
                <ion-item slot="header">
                  <ion-label>

                    <ion-grid>
                      <ion-row>

                        <ion-col size="3">
                          <i class="fa-solid fa-car fa-2xl pt-4"
                            style="color:black; display:flex; justify-content: center;"></i>
                        </ion-col>
                        <ion-col size="9">
                          <p class="acc-nombre-vehiculo">
                            {{ item.nombre }}
                          </p>
                          <p class="acc-patente ion-text-wrap" style="color:rgb(92, 92, 92);">
                            {{ item.descripcion }}
                          </p>
                          <p class="acc-ult-servicio">
                            Estado: {{ item.estado }}
                          </p>
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                  </ion-label>
                </ion-item>

                <ion-list slot="content">
                  <ion-item>
                    <ion-label>
                      <ion-grid class="acc-content">
                        <ion-row>
                          <ion-col>
                            {{ item.nombre_marca }} {{ item.nombre_modelo }}
                            <br>
                            U/S:
                            <br>
                            <strong>Proximo servicio:</strong>
                            <br>
                            Fecha proximo servicio
                            <br>
                            <div class="acc-tabla-detalle">
                              <strong>Detalles ultimo servicio:</strong>
                              <br>
                              <ion-text class="descripcion ion-text-wrap">
                                {{ item.detalle_ultimo_servicio }}
                              </ion-text>
                              <br>
                            </div>
                          </ion-col>
                          <ion-col size="2" offset="9">
                          </ion-col>
                        </ion-row>
                      </ion-grid>
                    </ion-label>
                  </ion-item>
                </ion-list>
              </ion-accordion>
            </ion-accordion-group>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-row>
  </ion-grid>
</ion-content>